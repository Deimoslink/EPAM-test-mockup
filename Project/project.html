<!DOCTYPE html>

<html>
<head>
	<title>Bootstrap</title>
	<meta name="viewport" content="width=device-width">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
	<link rel="stylesheet" href="style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
</head>
<body>


<div ng-app="sortApp" ng-controller="mainController">

	<header>
		<div class="container">
			<div class="flex-element">
				<span>FRONTEND <i class="fa fa-play" aria-hidden="true"></i> VIDEO</span>
				<div class="account-wrapper">
					<div class="avatar"></div>
					<div class="account-info">
						<span class="account-name">Ryan Kelly</span>
						<span class="account-status">logout</span>
					</div>
				</div>
			</div>		
		</div>
	</header>
	
<div class="container">
	

	<h1>Courses</h1>


	
<div class="interface">
	<form>
		<div class="form-group">
			<div class="input-group">
				<input type="text" class="form-control custom-form-control" placeholder="Type phrase for search" ng-model="searchQuery">
				<div class="custom-input-group-addon"><i class="fa fa-search"></i></div>
			</div>
		</div>
	</form>

	<div class="button-wrapper">
		<button class="btn btn-default" ng-click="archive()" ng-disabled="archived">Archive Selected</button>
		<button class="btn btn-default">Add New</button>
	</div>
</div>
	
	<table class="table">
	
		<thead>
			<tr>
				<td class="column1">
					<input type="checkbox" ng-click="selectAll()">
				</td>
				<td class="column2">
					<a href="#" ng-click="sortType = 'id'; sortReverse = !sortReverse">
					ID
						<span ng-show="sortType == 'id' && !sortReverse" class="fa fa-caret-down"></span>
						<span ng-show="sortType == 'id' && sortReverse" class="fa fa-caret-up"></span>
					</a>
				</td>
				<td class="column3">
					<a href="#" ng-click="sortType = 'title'; sortReverse = !sortReverse">
					Title
						<span ng-show="sortType == 'title' && !sortReverse" class="fa fa-caret-down"></span>
						<span ng-show="sortType == 'title' && sortReverse" class="fa fa-caret-up"></span>
					</a>
				</td>
				<td class="column4">
					<a href="#" ng-click="sortType = 'author'; sortReverse = !sortReverse">
					Author
						<span ng-show="sortType == 'author' && !sortReverse" class="fa fa-caret-down"></span>
						<span ng-show="sortType == 'author' && sortReverse" class="fa fa-caret-up"></span>
					</a>
				</td>
				<td class="column5">
					<a href="#">
					Duration 
					</a>
				</td>
				<td class="column6">
					<a href="#">
					Action
					</a>
				</td>
			</tr>
		</thead>
		
		<tbody>
			<tr ng-repeat="item in mainArray | orderBy:sortType:sortReverse | filter:searchQuery">
				<td>
					<input type="checkbox" ng-model="item.selected">
				</td>
				<td>{{ item.id }}</td>
				<td>{{ item.title }}</td>
				<td>{{ item.author }}</td>
				<td>{{ item.duration }}</td>
				<td>
					<a href="#">Edit</a>
					<a href="#">Delete</a>
<!-- 					<button type="button" class="btn btn-success btn-xs" ng-click="save()">Save</button>
					<button type="button" class="btn btn-danger btn-xs" ng-click="cancel()">Cancel</button> -->
				</td>
			</tr>
		</tbody>
	
	</table>
	
	<div class="alert alert-info">
		<p>Sort Type: {{ sortType }}</p>
		<p>Sort Reverse: {{ sortReverse }}</p>
		<p>Search Query: {{ searchQuery }}</p>
	</div>


</div>
	
</div>


<script>

angular.module('sortApp', [])

.controller('mainController', function($scope) {
	$scope.sortType = 'name'; // set the default sort type
	$scope.sortReverse= false;// set the default sort order
	$scope.searchQuery = ''; // set the default search/filter term

		// create the list of sushi rolls 
	$scope.mainArray = [
		{ id: 1, title: "title", author: "author", duration: "duration", url: "http://url", archived: false},
		{ id: 2, title: "title", author: "author", duration: "lol", url: "http://url", archived: false},
		{ id: 3, title: "title", author: "author", duration: "duration", url: "http://url", archived: true},
		{ id: 4, title: "title", author: "author", duration: "duration", url: "http://url", archived: false, selected: true},
		{ id: 5, title: "title", author: "author", duration: "duration", url: "http://url", archived: true},
		{ id: 6, title: "title", author: "author", duration: "duration", url: "http://url", archived: false},
		{ id: 7, title: "title", author: "author", duration: "duration", url: "http://url", archived: false, selected: true}
	];

	$scope.save = function() {
		console.log("save");
	};

	$scope.cancel = function() {
		console.log("cancel");
	};

	$scope.selected = false;

	$scope.selectAll = function() {
		if (!$scope.selected) {
			$scope.mainArray.forEach(function(item) {
				item.selected = true;
			});
			$scope.selected = true;		
		} else {
			$scope.mainArray.forEach(function(item) {
				item.selected = false;
			});
			$scope.selected = false;
		}
	}

	$scope.archived = true;

	$scope.archive = function() {
		$scope.mainArray.forEach(function(item) {
			if (item.selected) {
				item.archived = true;
				console.log(item);
			};

		});
	}




});





</script>
</body>
</html>


